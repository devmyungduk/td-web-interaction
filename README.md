# TD Web Interaction

<img src="./assets/screenshot.png" width="100">

TouchDesignerì™€ ì›¹ ë¸Œë¼ìš°ì € ê°„ ì‹¤ì‹œê°„ ë°ì´í„° ì†¡ìˆ˜ì‹  í”„ë¡œì íŠ¸

## ğŸ“‹ ê°œìš”

ì‹¤ì‹œê°„ ë°ì´í„° ë¹„ì£¼ì–¼ë¼ì´ì œì´ì…˜ íŒŒì´í”„ë¼ì¸:  
**TouchDesigner â†” Node.js WebSocket Server â†” Next.js (React + Three.js)**

ì„œë²„ëŠ” ë°ì´í„°ë¥¼ ì¤‘ê³„í•˜ê³ , ë¸Œë¼ìš°ì €ëŠ” ì´ë¥¼ 3D ê·¸ë˜í”½ìœ¼ë¡œ ë Œë”ë§í•©ë‹ˆë‹¤.

---

## ğŸ—‚ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
td-web-interaction/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ users/
â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ GlassObject.tsx      # ìœ ë¦¬ ì¬ì§ˆ 3D ì˜¤ë¸Œì íŠ¸
â”‚   â”‚   â”œâ”€â”€ Lights.tsx            # ì¡°ëª… ì„¤ì •
â”‚   â”‚   â””â”€â”€ SceneCanvas.tsx       # Three.js ìº”ë²„ìŠ¤
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ globals.css
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx                  # ë©”ì¸ í˜ì´ì§€
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ logger.ts                 # ë¡œê¹… ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ public/
â”‚   â””â”€â”€ textures/
â”‚       â””â”€â”€ studio_small_08_1k.hdr # HDR í™˜ê²½ë§µ
â”œâ”€â”€ server/
â”‚   â””â”€â”€ websocket-server.js       # WebSocket ì¤‘ê³„ ì„œë²„
â”œâ”€â”€ .gitignore
â”œâ”€â”€ eslint.config.mjs
â”œâ”€â”€ next.config.ts
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### 1. Next.js ê³„ì¸µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ page.tsx                                               â”‚
â”‚   <SceneCanvas /> â”€â”€â”€â”€â”€â–¶ SceneCanvas.tsx               â”‚
â”‚       â””â”€â”€â–¶ GlassObject.tsx                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| íŒŒì¼ | ì—­í•  |
|------|------|
| `page.tsx` | ì•± ì§„ì…ì  |
| `SceneCanvas.tsx` | Three.js ë Œë”ë§ ë¬´ëŒ€ |
| `GlassObject.tsx` | 3D ë©”ì‹œ + íšŒì „ ì• ë‹ˆë©”ì´ì…˜ |

### 2. WebSocket ì„œë²„

| í¬íŠ¸ | ìš©ë„ | ì—°ê²° ëŒ€ìƒ |
|------|------|------------|
| 9091 | WebSocket | TouchDesigner |
| 9092 | WebSocket | ë¸Œë¼ìš°ì € |

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ websocket-server.js                                          â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ TD(9091) â—„â”€â”€ WebSocket Server â”€â”€â–º Browser(9092)              â”‚
â”‚ ì–‘ë°©í–¥ ë°ì´í„° ì¤‘ê³„ (TD â†” ë¸Œë¼ìš°ì €)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ë Œë”ë§ íŒŒì´í”„ë¼ì¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <SceneCanvas>                                                â”‚
â”‚   <Canvas>                                                   â”‚
â”‚     <Lights />                                               â”‚
â”‚     <Environment />                                          â”‚
â”‚     <GlassObject /> â† 3D ë©”ì‹œ ë Œë”ë§                         â”‚
â”‚   </Canvas>                                                  â”‚
â”‚ </SceneCanvas>                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ë°ì´í„° íë¦„

```
â‘  TouchDesigner â†’ Node.js(9091)  : ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡
â‘¡ Node.js â†’ Browser(9092)        : ë¸Œë¡œë“œìºìŠ¤íŠ¸
â‘¢ Browser â†’ Node.js(9092â†’9091)   : ì¢Œí‘œ/ì…ë ¥ê°’ ì „ì†¡
â‘£ Browser â†’ Three.js             : 3D ì‹œê°í™”
```

---

## âš¡ ë¹ ë¥¸ ì‹¤í–‰

### 1. Node.js ì„¤ì¹˜ í™•ì¸

```bash
C:\Users> node --version
C:\Users> npm --version
```

Node.js ë¯¸ì„¤ì¹˜ ì‹œ: https://nodejs.org/ ì—ì„œ ë‹¤ìš´ë¡œë“œ

### 2. í”„ë¡œì íŠ¸ ì‹¤í–‰

```bash
# í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™
C:\Users> cd Desktop/test-log-json/td-web-interaction

# ì˜ì¡´ì„± ì„¤ì¹˜
C:\Users\Desktop\test-log-json\td-web-interaction> npm install

# WebSocket ì„œë²„ ì‹œì‘ (í„°ë¯¸ë„ 1)
C:\Users\Desktop\test-log-json\td-web-interaction> cd server
C:\Users\Desktop\test-log-json\td-web-interaction\server> node websocket-server.js

# Next.js ê°œë°œ ì„œë²„ ì‹œì‘ (ìƒˆ í„°ë¯¸ë„ 2)
C:\Users\Desktop\test-log-json\td-web-interaction> npm run dev

# ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000 ì ‘ì†
```

### TouchDesigner ì—°ê²°
```python
op('websocket1').sendText('Hello from TD!')
```

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Node.js 18+
- TouchDesigner

### ì„¤ì¹˜

```bash
npm install
```

### ì‹¤í–‰

```bash
# WebSocket ì„œë²„ ì‹œì‘
node server/websocket-server.js

# Next.js ê°œë°œ ì„œë²„ ì‹œì‘
npm run dev
```

### TouchDesigner ë°ì´í„° ì „ì†¡ ì˜ˆì‹œ

```python
op('websocket1').sendText('Hello from TD!')
```

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **Frontend:** Next.js, React, Three.js, @react-three/fiber
- **Backend:** Node.js, WebSocket
- **3D:** Three.js, MeshPhysicalMaterial
- **ì–¸ì–´:** TypeScript

---

## ğŸ“Œ í•µì‹¬ ê¸°ëŠ¥

- TouchDesigner â†” ë¸Œë¼ìš°ì € ê°„ ì–‘ë°©í–¥ ì‹¤ì‹œê°„ í†µì‹ 
- React + Three.js ê¸°ë°˜ 3D ë Œë”ë§
- ìœ ë¦¬ ì¬ì§ˆ(Glass Material) ë¬¼ë¦¬ ê¸°ë°˜ ë Œë”ë§
- HDR í™˜ê²½ë§µ ì§€ì›
